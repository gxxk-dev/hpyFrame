# 插件索引
## 索引组成部分

索引基于JSON文件格式进行存储 <!-- 考虑到插件的多功能性（可作为 用户端应用程序/依赖项/后台运行/Hook 存在）
故使用 基于重载字典实现的JSON自建解析库 --> 
单插件索引模板如下：
```json
"插件id":{
    "name":"", // 插件名称
    "version":["内部版本号","外部版本号","分支名称"],
    "author":"作者", // 作者名称 不建议填入过长字符 易导致UI显示异常
    "dependency":[
        "依赖项1","依赖项2"
        // 以此类推...
    ],
    "entrypoint":{
        "|program":"",
        "|userui":""
    }
}
```

### 关于ID

ID是用于区分每个插件的特殊字符 它应当由`大小写字符/数字/下划线`组成 但实际上它仅用于标记 故不作硬性要求 

### 关于版本号

HPYF使用了类似Windows的双版本号机制 但在此基础上存在一定修改 见下文

#### 外部版本号

用于用户显示 不建议填入过长字符 易导致UI显示异常

#### 内部版本号

用于更新比对 应为一个整数 在同一分支内 若本地内部版本号小于云端内部版本号 则视为需要更新

#### 分支

用于更新比对.



### 关于入口点

#### 关于特殊标记

> 在此项下的`key`中 首字符为`|`的项即特殊标记

特殊标记所指向的函数具有特殊含义 如下表所示
|名称|含义|
|--|--|
|trans|用于跨版本的命名的兼容性调用 它将被反复调用 故其应当足够轻便|
|userui|作为用户端程序启动时的UI入口点|